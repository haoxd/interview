

#### 对象在内存当中的存储布局
 
-  Object o = new Object(); 在内存当中占用16字节
-  为什么占用16 字节 已64位计算机
      
        {
        
            1 在内存实例化的对象分位四块-》
            
                {
                     1  8字节的markword
                     2  4字节的 class pointer（类型指针）
                     3  实例数据 instance date
                     4  对齐 padding  补齐为被8整除
                }
                
                
            2  int  占用4字节
            3  long 占用8字节
            4 boolean 占用1字节
            5 string 占用4字节 存放的指针对象     
        }
- 对象头包含什么
        
        {
            1 markworld 8字节
                
                64位机器 markworld 就是64位
                32位机器 markworld 就是32位
                包括
                
                        {   
                              1  锁信息
                              2  hashcode
                              3  GC信息
                        }
                
            2 class pointer  4 字节 ，存放类型指针
        }
        
        
        
- 对象怎么定位
            
                
                {
                        1 直接定位
                                {
                                    优点：查找速度快
                                    缺点：在进行对象GC的时候，要进行内存的位置移动，需要改变类型指针的位置，
                                }
                        2 句柄方式
                        
                                {
                                    优点：对象小，因为不需要自己存放类型指针，GC的时候不需要频繁的进行改变类型指针的位置
                                    缺点：需要进行俩次访问
                                
                                }                                               
                
                }      


- 对象怎么分配
![add image](对象怎么分 配.png)  

1 先尝试在栈在放 ，比如main方法的当中的局部变量

        {
            1 是否有逃逸分析
            2 标量替换（最基本的数据类型才可以）
        }
        
2 如果对象够不够大 
    {
       jvm的参数， max
    }


- 对象的创建过程


            {
                1 申请内存空间 设置默认值
                2 调用构造方法 设置初始值
                3 建立关连
            
            }